# Written by @Fadynagh from http://fadyio.com
# Email:me@fadyio.com
# Github: @fadyio

################################ Better prefix
unbind C-b
set -g prefix C-Space
set -g default-terminal "alacritty"

# Move window
bind -r < swap-window -t -1
bind -r > swap-window -t +1

# Resize panes like vim
bind -r j resize-pane -D 4
bind -r k resize-pane -U 4
bind -r l resize-pane -R 4
bind -r h resize-pane -L 4

# source the config file with prefix and r
unbind r
bind r source-file ~/.tmux.conf

#plit panes using | and -
unbind v
unbind h
unbind '"'
bind | split-window -h
bind - split-window -v


# Enable mouse mode (tmux 2.1 and above)
bind -n WheelUpPane   select-pane -t= \; copy-mode -e \; send-keys -M
bind -n WheelDownPane select-pane -t= \;                 send-keys -M

############################# tmux settings
# Ring the bell if any background window rang a bell
set -g bell-action any

# Notifying if other windows has activities
setw -g monitor-activity on

# Set inactive pane border color
set-option -g pane-border-style fg=colour239

# Enable mouse mode (tmux 2.1 and above)
set -g mouse on

# renumber all windows when any window is closed
set -g renumber-windows on

# use system clipboard
set -g set-clipboard on

# update the status bar every 3 seconds
set -g status-interval 3


# Message info
set-option -g message-style bg=colour239,fg=colour223 # bg=bg2, fg=fg1

# Writing commands inactive
set-option -g message-command-style bg=colour239,fg=colour223 # bg=fg3, fg=bg1

# Start window and pane indices at 1.
set -g base-index 1
set -g pane-base-index 0

# Length of tmux status line
set -g status-left-length 200
set -g status-right-length 150
set-option -g status "on"

bind c new-window -c '#{pane_current_path}'
bind g new-window -n ' Git' lazygit

# Set active pane border color
set-option -g pane-active-border-style fg=colour214

# Instant vim-mode change
set -s escape-time 0
set -g default-terminal "screen-256color"
set-option -g terminal-overrides ',xterm-256color:RGB'
set-window-option -g mode-keys vi

#################################### List of plugins
# Tmux Plugin Manager
set -g @plugin 'tmux-plugins/tpm'

# A set of tmux options that should be acceptable to everyone.
set -g @plugin 'tmux-plugins/tmux-sensible'

# extrakto for tmux - quickly select, copy/insert/complete text without a mouse
set -g @plugin 'laktak/extrakto'
set -g @extrakto_popup_size '50%'

# Restore tmux environment after system restart.
set -g @plugin 'tmux-plugins/tmux-resurrect'
# Automatic restore when tmux is started. Automatic tmux start when computer is turned on
# set -g @plugin 'tmux-plugins/tmux-continuum'
# set -g @continuum-restore 'on'
# set -g @continuum-save-interval '15'
# set -g @continuum-boot 'on'
# set -g @continuum-boot-options 'alacritty'

# tmux theme and UI
set -g @plugin 'dracula/tmux'
set -g @dracula-plugins "git cpu-usage ram-usage time"
set -g @dracula-show-powerline true
# it can accept `session`, `smiley`, `window`, or any character.
set -g @dracula-show-left-icon "window"
set -g @dracula-show-empty-plugins false
# default is 1, it can accept any number and 0 disables padding.
set -g @dracula-left-icon-padding 2
# for left
set -g @dracula-show-left-sep ""
# for right symbol (can set any symbol you like as seperator)
set -g @dracula-show-right-sep ""
# CPU
set -g @dracula-cpu-usage-label " "
set -g @dracula-cpu-usage-colors "orange dark_gray"
# RAM
set -g @dracula-ram-usage-label " w
set -g @dracula-ram-usage-colors "pink dark_gray"
# Time
set -g @dracula-show-timezone false
set -g @dracula-time-colors "yellow dark_gray"
# Git
set -g @dracula-git-show-remote-status false
# default is unicode !. Avoid bash special characters
set -g @dracula-git-show-diff-symbol " "
set -g @dracula-git-colors "light_purple dark_gray"

#  Nerd Font icons for your tmux windows
set -g @plugin 'joshmedeski/tmux-nerd-font-window-name'
# shows the window name next to the icon (default false)
set -g @tmux-nerd-font-window-name-show-name true

# tmux integration for nvim features pane movement and resizing from within nvim.
set -g @plugin 'aserowy/tmux.nvim'
# navigation
set -g @tmux-nvim-navigation true
set -g @tmux-nvim-navigation-cycle true
set -g @tmux-nvim-navigation-keybinding-left 'C-h'
set -g @tmux-nvim-navigation-keybinding-down 'C-j'
set -g @tmux-nvim-navigation-keybinding-up 'C-k'
set -g @tmux-nvim-navigation-keybinding-right 'C-l'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)

run -b '~/.tmux/plugins/tpm/tpm'
